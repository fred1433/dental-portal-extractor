(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{823:function(t,e,i){},881:function(t,e,i){"use strict";i(823)},943:function(t,e,i){"use strict";i.r(e);var o=i(9),n=i.n(o);function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){n()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var a=i(3),l=i.n(a),d=i(0),u=i(2),p=i(5),c=i(22),g=i(25);function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function v(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){n()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var S={components:{BaseIcon:c.a},mixins:[g.a],data:()=>({supportIconUrl:"",widgetPosition:""}),computed:{getAriaLabelForSupportIconContainer(){var t,e,i;return(null===(t=this.$store.state)||void 0===t||null===(e=t.widgetConfig)||void 0===e||null===(i=e.supportIconConfig)||void 0===i?void 0:i.ariaLabel)||"chat"},isSupportIconVisible(){return this.$store.state.supportIconState.visible},theme(){var t;return"dark"===(null===(t=this.getHeaderTheme)||void 0===t?void 0:t.current)?"light":"dark"},isUnreadIndicatorValid(){return this.$store.state.unreadMessagesState.enabled},isSupportIconForMobileEnabled(){var t,e;return(null===(t=this.$store.state.widgetConfig)||void 0===t||null===(e=t.supportIconConfig)||void 0===e?void 0:e.isDynamicIconScalingEnabled)&&this.isDeviceTypeMobile&&!this.$store.getters.isKnowledgeAiEnabled},isDeviceTypeMobile:()=>"mobile"===Object(u.getDeviceType)(),getWidgetPositionedStyle(){return"left"===this.widgetPosition?"support-icon-left":"support-icon-right"},isDefaultFullScreen(){return this.$store.state.widgetConfig.isDefaultFullScreen},isChatWidgetFullScreen(){return this.$store.state.isChatWidgetFullScreen},isWindowMaximized(){return this.$store.state.isWindowMaximized},supportText(){return this.$store.state.widgetConfig.supportText},supportIcon(){var t,e,i;return(null===(t=this.$store.state.widgetConfig)||void 0===t||null===(e=t.supportIconConfig)||void 0===e?void 0:e.icon)||(null===(i=this.$store.state.widgetConfig)||void 0===i?void 0:i.supportIcon)},getHeaderTheme(){var t,e;return null===(t=this.$store.state)||void 0===t||null===(e=t.widgetConfig)||void 0===e?void 0:e.theme},getHeaderGradientDirection(){var t;return(null===(t=this.getHeaderTheme)||void 0===t?void 0:t.gradientDirection)||d.r.gradientDirectionConfig.defaultGradientDirection},getHeaderGradientColors(){var t;return(null===(t=this.getHeaderTheme)||void 0===t?void 0:t.gradientColors)||[this.getHeaderSolidColor]},getHeaderSolidColor(){var t;return(null===(t=this.getHeaderTheme)||void 0===t?void 0:t.color)||"#000000"},isGlobalColorThemeEnabled(){var t,e;return(null===(t=this.$store.state.widgetConfig)||void 0===t||null===(e=t.theme)||void 0===e?void 0:e.globalColorTheme)||!1},getSupportIconBackgroundColor(){var t,e;return(null===(t=this.$store.state.widgetConfig)||void 0===t||null===(e=t.supportIconConfig)||void 0===e?void 0:e.backgroundColor)||"#000000"},getSupportIconGradientColors(){var t,e;return this.isGlobalColorThemeEnabled?this.getHeaderGradientColors:(null===(t=this.$store.state.widgetConfig)||void 0===t||null===(e=t.supportIconConfig)||void 0===e?void 0:e.gradientColors)||[this.getSupportIconBackgroundColor]},getSupportIconGradientDirection(){var t,e;return this.isGlobalColorThemeEnabled?this.getHeaderGradientDirection:(null===(t=this.$store.state.widgetConfig)||void 0===t||null===(e=t.supportIconConfig)||void 0===e?void 0:e.gradientDirection)||d.r.gradientDirectionConfig.defaultGradientDirection},getSupportIconBgStyle(){var t,e;let i={};const o=this.getSupportIconBackgroundColor,n=this.$store.getters.isGradientEnabled?Object(u.getGradient)(this.getSupportIconGradientColors,this.getSupportIconGradientDirection):"";o&&(i=v({background:o},n&&{backgroundImage:n}));const r=(null===(t=this.$store.state.widgetConfig)||void 0===t||null===(e=t.supportIconConfig)||void 0===e?void 0:e.radius)||"medium",s={none:"0px",small:"4px",medium:"8px",large:"30px"};return r&&(i=v(v({},i),{},{"border-radius":s[r]||"8px"})),i},getUnreadIndicatorStyle(){var t,e,i,o;const n="large"===(null===(t=this.$store.state.widgetConfig)||void 0===t||null===(e=t.supportIconConfig)||void 0===e?void 0:e.radius);return null!==(i=this.$store.state.widgetConfig)&&void 0!==i&&null!==(o=i.supportIconConfig)&&void 0!==o&&o.isSupportTextEnabled?this.isDeviceTypeMobile?n?{right:"0px",top:"-13px"}:{right:"-6px",top:"-13px"}:n?{right:"6px",top:"-16px"}:{right:"-8px",top:"-14px"}:this.isDeviceTypeMobile?n?{right:"0px",top:"-13px"}:{right:"-6px",top:"-13px"}:{right:"-8px",top:"-14px"}},getSupportIconTextStyle(){var t,e;const i=(null===(t=this.$store.state.widgetConfig)||void 0===t||null===(e=t.supportIconConfig)||void 0===e?void 0:e.textColor)||"";return i?{color:i}:{}},getSupportIconBorder(){var t,e;return(null===(t=this.$store.state.widgetConfig)||void 0===t||null===(e=t.supportIconConfig)||void 0===e?void 0:e.iconBorder)||""},getSupportIconBoxShadow(){var t,e;return(null===(t=this.$store.state.widgetConfig)||void 0===t||null===(e=t.supportIconConfig)||void 0===e?void 0:e.iconBoxShadow)||""},getSupportIconWidth(){var t,e,i;return(null===(t=this.$store.state.widgetConfig)||void 0===t||null===(e=t.supportIconConfig)||void 0===e||null===(i=e.iconSize)||void 0===i?void 0:i.width)||"auto"},getSupportIconHeight(){var t,e,i;return(null===(t=this.$store.state.widgetConfig)||void 0===t||null===(e=t.supportIconConfig)||void 0===e||null===(i=e.iconSize)||void 0===i?void 0:i.height)||"auto"},getSupportIconAnimation(){var t,e;return(null===(t=this.$store.state.widgetConfig)||void 0===t||null===(e=t.supportIconConfig)||void 0===e?void 0:e.iconAnimation)||""},getSupportIconIconStyle(){var t,e;let i=null===(t=this.$store.state.widgetConfig)||void 0===t||null===(e=t.supportIconConfig)||void 0===e?void 0:e.iconPadding;var o,n;void 0===i&&(i=null===(o=this.$store.state.widgetConfig)||void 0===o||null===(n=o.supportIconConfig)||void 0===n?void 0:n.isSupportTextEnabled);return i?this.isSupportIconForMobileEnabled?{"max-width":"20px","max-height":"20px"}:{}:this.isSupportIconForMobileEnabled?{margin:"0px",padding:"0px",width:"auto",height:"auto","max-width":"20px","max-height":"20px"}:{"max-width":"60px",margin:"0px",padding:"0px",width:this.getSupportIconWidth,height:this.getSupportIconHeight,border:this.getSupportIconBorder,"box-shadow":this.getSupportIconBoxShadow}},widgetStatus(){return this.$store.state.widgetStatus},getTextPositionedStyle(){return this.isSupportIconTextAvailable?"left"===this.getsupportIconPosition?"text-icon-left":"text-icon-right":""},isIconWIthText(){return this.isSupportIconTextAvailable?"icon-with-text":""},isThemeChange(){return"light"===this.theme?"text-light":"text-dark"},isSupportIconTextAvailable(){var t,e,i,o;return Boolean((null===(t=this.$store.state.widgetConfig)||void 0===t||null===(e=t.supportIconConfig)||void 0===e?void 0:e.isSupportTextEnabled)&&(null===(i=this.$store.state.widgetConfig)||void 0===i||null===(o=i.supportIconConfig)||void 0===o?void 0:o.supportTextValue))},getsupportIconText(){var t,e;return null===(t=this.$store.state.widgetConfig)||void 0===t||null===(e=t.supportIconConfig)||void 0===e?void 0:e.supportTextValue},getsupportIconPosition(){var t,e;return null===(t=this.$store.state.widgetConfig)||void 0===t||null===(e=t.supportIconConfig)||void 0===e?void 0:e.positionOfIcon},getsupportIconRadius(){var t,e;return{none:"0px",small:"4px",medium:"8px",large:"30px"}[(null===(t=this.$store.state.widgetConfig)||void 0===t||null===(e=t.supportIconConfig)||void 0===e?void 0:e.radius)||"medium"]},isKnowledgeAiLinkEnabled(){var t;return this.$store.getters.isKnowledgeAiEnabled&&"link"===(null===(t=this.$store.getters.knowledgeAiLaunchButtonData)||void 0===t?void 0:t.type)},isEventAnalyticsMP(){var t;return(null===(t=this.$store.state.widgetConfig)||void 0===t?void 0:t.eventAnalyticsMP)||!1}},watch:{widgetStatus:{handler(t){this.isWidgetStateChanged(t)?this.handleSupportClicked():this.isScreenStateChanged(t)&&this.handleIFrame()},deep:!0},isWindowMaximized(t){this.handleIFrame(),this.supportIconUrl=t?`${this.$cdn}/images/cross_${this.theme}.svg`:this.getSupportIcon()},theme(){this.supportIconUrl=this.getSupportIcon()},supportIcon(){this.supportIconUrl=this.getSupportIcon()}},created(){var t;this.supportIconUrl=this.getSupportIcon(),this.widgetPosition=(null===(t=window.parent.document.getElementById("netomiChatWindow"))||void 0===t?void 0:t.getAttribute("position"))||"right"},methods:{handleSupportClicked(){var t=this;return l()((function*(){var e;t.isEventAnalyticsMP&&t.$segment.global.sendEvent("bot_icon_click"),Object(u.emitEventToParentWindow)(d.o.USER_OPEN_WIDGET,Object(u.getEventDataPoints)());const i=null===(e=t.$store.state)||void 0===e?void 0:e.widgetConfig;if(t.$store.dispatch("updateUnreadMessagesState",{enabled:!1}),t.$store.dispatch("toggleChatWindowStatus",!t.isWindowMaximized),p.a.setSessionStorageData("userInteracted",!0),Object(u.configureSoundInNotificationService)(null==i?void 0:i.sound),!Object(u.isWidgetDefaultOpened)()){var o,n,r;if((null===(o=Object.keys(i))||void 0===o?void 0:o.length)>0&&(yield t.$store.dispatch("fetchHistory")),!(null!=i&&i.proActiveGreetings||null==i||null===(n=i.calloutBubble)||void 0===n)&&n.calloutBubbleEnabled&&null!=i&&null!==(r=i.calloutBubble)&&void 0!==r&&r.intent)return void t.handleCalloutGreetingTrigger();t.$store.dispatch("triggerProActiveGreetings")}}))()},handleCalloutGreetingTrigger(){var t=this;Object(u.emitEventToParentWindow)(d.o.UPDATE_PARENT_WINDOW_STYLE,d.f.LARGE_SCREEN_DEVICES);let e=setTimeout((function(){t.$store.dispatch("toggleChatWindowStatus",!0),t.$store.dispatch("triggerCalloutBubbleGreetings"),clearTimeout(e)}),0);p.a.setSessionStorageData("userInteracted",!0)},handleIFrame(){if(this.isWindowMaximized&&window.outerWidth<=767)Object(u.emitEventToParentWindow)(d.o.UPDATE_PARENT_WINDOW_STYLE,d.f.SMALL_SCREEN_DEVICES);else if(this.isWindowMaximized&&window.outerWidth>=768){var t,e,i;const o=void 0===this.widgetStatus.isFullScreen?this.isDefaultFullScreen:this.widgetStatus.isFullScreen;Object(u.emitEventToParentWindow)(d.o.UPDATE_PARENT_WINDOW_STYLE,o?d.f.SMALL_SCREEN_DEVICES:d.f.LARGE_SCREEN_DEVICES,(null===(t=this.$store.state)||void 0===t||null===(e=t.widgetConfig)||void 0===e||null===(i=e.chatWidget)||void 0===i?void 0:i.visibility)||"default"),this.$store.dispatch("updateChatWindowFullScreenState",o)}else this.$store.dispatch("updateChatWindowFullScreenState",!1),this.$nextTick((function(){Object(u.emitEventToParentWindow)(d.o.UPDATE_PARENT_WINDOW_STYLE,Object(u.getSupportIconWidthAndHeight)())}));this.$store.dispatch("updateWidgetStatus",this.widgetStatus)},getSupportIcon(){return this.supportIcon?this.supportIcon:`${this.$cdn}/images/support_icon_${this.theme}.svg`},isWidgetStateChanged(t){return!(t.status===d.A.OPEN&&this.isWindowMaximized||t.status===d.A.CLOSE&&!this.isWindowMaximized)},isScreenStateChanged(t){return t.status===d.A.OPEN&&void 0!==t.isFullScreen&&t.isFullScreen!==this.isChatWidgetFullScreen}}},b=(i(881),i(8)),I=Object(b.a)(S,(function(){var t=this,e=t._self._c;return!t.isKnowledgeAiLinkEnabled&&t.isSupportIconVisible?e("div",{staticClass:"support-icon-wrapper",class:[t.getWidgetPositionedStyle,{"support-icon-wrapper-hide":t.isWindowMaximized,"hide-support-icon-in-fullscreen":t.isChatWidgetFullScreen}]},[e("button",{staticClass:"tab-focused-btn-with-img support-icon-container",attrs:{id:"support-icon-container","aria-label":t.getAriaLabelForSupportIconContainer,"aria-haspopup":"true"},on:{click:t.handleSupportClicked}},[e("div",{staticClass:"support-icon",class:[t.getTextPositionedStyle,{"support-icon-mobile":t.isSupportIconForMobileEnabled}],style:t.getSupportIconBgStyle},[t.isSupportIconTextAvailable?e("div",{directives:[{name:"t",rawName:"v-t",value:t.getsupportIconText,expression:"getsupportIconText"}],staticClass:"support-text",class:[t.isThemeChange,{"support-text-mobile":t.isSupportIconForMobileEnabled}],style:s(s({},t.getSupportIconTextStyle),{},{fontSize:t.getFontSizeForChatInterface("supportText")})}):t._e(),t._v(" "),e("img",{staticClass:"support-icon-image",class:[t.isIconWIthText,{"support-icon-image-mobile":t.isSupportIconForMobileEnabled},t.getSupportIconAnimation],style:t.getSupportIconIconStyle,attrs:{src:t.supportIconUrl,alt:"support icon"}}),t._v(" "),t.isUnreadIndicatorValid?e("div",{staticClass:"unread-indicator-icon-container",style:t.getUnreadIndicatorStyle},[e("BaseIcon",{attrs:{name:"UnreadIndicatorIcon",height:t.isDeviceTypeMobile?"12px":"16px",width:t.isDeviceTypeMobile?"12px":"16px"}})],1):t._e()])])]):t._e()}),[],!1,null,"bbb2bb68",null);e.default=I.exports}}]);